<!DOCTYPE html>
<html>
<head>
  <title> Quick Start | Open Power Quality</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/3.1.0/cerulean/bootstrap.min.css">

  <!--  Load site-specific customizations after bootstrap. -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="/css/gh-fork-ribbon.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:normal,italic,bold">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.js"></script>
  <![endif]-->

  <!-- Load Bootstrap JavaScript components -->
  <script src="http://code.jquery.com/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

</head>
<body>
<!-- Responsive navbar -->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <!--  Display three horizontal lines when navbar collapsed. -->
        <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand">Open Power Quality</a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="/index.html">Home</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Organization<b class="caret"></b></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/organization/motivation.html">Why OPQ?</a></li>
            <li><a href="/organization/team.html">Design Team</a></li>
            <li><a href="/organization/community.html">User Communities</a></li>
            <li><a href="/organization/joinus.html">Join us!</a></li>
            <li><a href="/organization/contact.html">Contact us</a></li>
          </ul>
        </li>
        <li><a href="https://open-power-quality.gitbooks.io/open-power-quality-manual/content/">Manual</a></li>
        <li><a href="https://openpowerquality.slack.com/">Slack</a></li>
        <li><a href="/organization/news.html">News</a></li>
      </ul>
    </div>
  </div>
</div>

<div class="github-fork-ribbon-wrapper right">
  <div class="github-fork-ribbon">
    <a href="https://github.com/openpowerquality">Find OPQ on GitHub</a>
  </div>
</div>

<!-- Load tocify css and js -->
<link type="text/css" rel="stylesheet" href="/css/jquery.tocify.css" />

<!-- Load tocify Javascript components -->
<script src="/js/jquery-ui-1.10.4.custom.js"></script>
<script src="/js/jquery.tocify.js"></script>

<div class="container">
<div class="row">
  <div class="hidden-xs col-sm-3" >
    <!-- Our table of contents will be here !-->
    <div id="nav"></div>
  </div>
  <div class="col-xs-12 col-sm-9">
     <h1 id="0-caveat">0. Caveat</h1>

<p>This quick start refers to our first generation system. We are working on the second generation system and will publish an updated quick start in the near future.</p>

<h1 id="1-obtain-an-opqbox">1. Obtain an OPQBox</h1>

<p>The first step in getting started is to obtain an OPQBox.</p>

<p>We are currently manufacturing OPQBoxes on an as-needed basis.  To obtain cost and availability information, please <a href="contact.html">contact us</a>.</p>

<h1 id="2-create-an-opqhub-account">2. Create an OPQHub account</h1>

<p>Once you have your OPQBox, you are ready to create an account on OPQHub.</p>

<ol>
  <li>Visit <a href="http://emilia.ics.hawaii.edu:8194">http://emilia.ics.hawaii.edu:8194</a>.</li>
  <li>Select the <code>Sign-Up</code> button on the home page.</li>
  <li>Fill out the user information fields. You will use your email address to log into OPQHub.</li>
  <li>Fill out the alert information fields. When power events occur OPQhub can send you an e-mail, a text message, or both! *</li>
  <li>Select the <code>Create OPQHub Account</code> button.</li>
  <li>You should now be looking at the device administration page. Continue with step 3.</li>
</ol>

<p><em>* If you would prefer to not get alerts, you can leave wither the alert e-mail field or the SMS number field blank.</em></p>

<h1 id="3-register-your-opqbox">3. Register your OPQBox</h1>

<p>After you have created your account, you can register your OPQBox (or OPQBoxes) with your account.</p>

<ol>
  <li>Make sure you are on the <a href="http://emilia.hawaii.edu:8194/admin/device">device administration page</a>.</li>
  <li>Locate the device id on the underside of your OPQBox.</li>
  <li>Enter the device id in the field marked <code>Device Id</code>.</li>
  <li>Come up with a key for your device. The key acts as a password to your data. The same key will be needed when configuring your OPQBox.</li>
  <li>Enter the key in the field marked <code>Key</code>.</li>
  <li>Select the <code>Add Device</code> button. This will take you to the device information page.</li>
  <li>Enter a short description for your device in the <code>Description</code> field.</li>
  <li>Select <code>Make Data Public</code> checkbox if you wish to anonymously share your power quality data.</li>
  <li>Select a square on the map which best represents where you will place your OPQBox. *</li>
  <li>Select the <code>Update</code> button.</li>
</ol>

<p><em>* By zooming in and out on the map, it is possible to select a square that is more accurate or less accurate. This makes it possible to share your power quality data while also remaining anonymous. You might select a square that has you and your neighbors homes in it. Or you might select a square that has your entire neighborhood in it. Play around with the map until you find a square that you are comfortable with.</em></p>

<h1 id="4-opqbox-configuration">4. OPQBox Configuration</h1>

<p>Once you have obtained your OPQBox, you begin the configuration process by providing it with information about your WiFi network and the location of your chosen OPQHub using the provided USB stick.  Once your OPQBox is communicating with the OPQHub, the setup process is complete.</p>

<h3 id="edit-configini">Edit config.ini</h3>
<p>All configuration for the OPQBox is controlled by editing the file <code>config.ini</code> on the provided USB stick.</p>

<ol>
  <li>Insert the provided USB stick into your computer.</li>
  <li>Navigate to the USB directory and open <code>config.ini</code> using your favorite text editor.</li>
  <li>Edit the configuration file. The details of the configuration file are provided below.</li>
  <li>Save the configuration when you are done editing it.</li>
  <li>Eject the USB drive from your computer.</li>
  <li>Place the USB drive into the available USB slot on the side your OPQBox.</li>
</ol>

<p>When you open config.ini, you will see something similar to the following. Note that lines that start with the <code>#</code> symbol are comments.</p>
<h3 id="example-configini">Example config.ini</h3>
<pre><code>[wifi_config]
ssid = name_of_your_network
key = password_for_your_network
security = network_security_type

[device_config]
access_key = key_from_step_3

# Default values
opqhub_addr = ws://emilia.ics.hawaii.edu:8194/private/ws
event_throttle = 3600
expected_voltage = 120
voltage_tolerance = 7
expected_frequency = 60
frequency_tolerance = 4.2
heartbeat_interval = 1800
</code></pre>

<p>Let us take a look at this file in detail.</p>

<h5 id="ssid--name_of_your_network"><code>ssid = name_of_your_network</code></h5>
<ul>
  <li>This stores the name of the wireless network you wish to connect to</li>
  <li>Replace <code>name_of_your_network</code> with the name of the wireless network you wish to connect to</li>
</ul>

<h5 id="key--password_for_your_network"><code>key = password_for_your_network</code></h5>
<ul>
  <li>This stores the key or password of the wireless network you wish to connect to</li>
  <li>Replace <code>password_for_your_network</code> with the correct password/key for the network you wish to connect to</li>
</ul>

<h5 id="security--network_security_type"><code>security = network_security_type</code></h5>
<ul>
  <li>This stores the type of security the wireless network is using</li>
  <li>Replace <code>network_security_type</code> with one of <code>wep</code>, <code>wpa</code>, or <code>none</code></li>
  <li>Note that <code>security = network_security_type</code> also covers <code>wpa2</code></li>
</ul>

<h5 id="access_key"><code>access_key</code></h5>
<ul>
  <li>This stores the key used to protect your data and device.</li>
  <li>This should be the same key you entered in step 3.</li>
</ul>

<p>The rest of the fields under <code># Default values</code> generally do not need to be changed. However they are described here for completeness.</p>

<h5 id="opqhub_addr"><code>opqhub_addr</code></h5>
<ul>
  <li>The web address of the OPQHub you wish to use with your OPQBox.</li>
</ul>

<h5 id="event_throttle"><code>event_throttle</code></h5>
<ul>
  <li>This number throttles the number of events your OPQBox can generate in a given amount of time.</li>
  <li>A value of 3600 means that you will only receive an event once every 3600 seconds (one hour).</li>
  <li>A smaller value means you may receive more power events.</li>
</ul>

<h5 id="expected_voltage"><code>expected_voltage</code></h5>
<ul>
  <li>This is the number of volts you expect to be coming into your OPQBox.</li>
  <li>This can be adjusted if you know that your voltage is not the standard 120 Volts.</li>
</ul>

<h5 id="voltage_tolerance"><code>voltage_tolerance</code></h5>
<ul>
  <li>This is a value in Volts that tells the OPQBox to generate a power event when the voltage is outside of <code>expected_voltage</code> +/- <code>voltage_tolerance</code>.</li>
</ul>

<h5 id="expected_frequency"><code>expected_frequency</code></h5>
<ul>
  <li>This value is the frequency in Hertz you expect to be coming into your OPQBox.</li>
  <li>This can be adjusted if you know the frequency is not the standard 60 Hz.</li>
</ul>

<h5 id="frequency_tolerance"><code>frequency_tolerance</code></h5>
<ul>
  <li>This is a value in Hertz that tells the OPQBox to generate a power event when the frequency is outside of <code>expected_frequency</code> +/- <code>frequency_tolerance</code>.</li>
</ul>

<h5 id="heartbeat_interval"><code>heartbeat_interval</code></h5>
<ul>
  <li>This value specifies how often the OPQBox should send a heartbeat to the OPQHub.</li>
  <li>The value of this field is in seconds.</li>
</ul>

<h1 id="5-power-up-opqbox">5. Power up OPQBox</h1>

<ol>
  <li>Place your OPQBox on a flat surface.</li>
  <li>Make sure the USB drive is inserted into the device.</li>
  <li>Turn on the device.</li>
  <li>If you have configured e-mail or text message alerts, you should receive an alert telling you when the device comes online. This should happen within 3 minutes.</li>
  <li>If you do not receive an alert (or do not see data in your OPQHub account), then cut power to the device, take out the USB Drive, and check for a log file which should indicate the configuration problem.</li>
</ol>


  </div>
</div>
</div>

<script>
  $("#nav").tocify({theme: "bootstrap3", scrollTo: "40"});
</script>

<div class="dark-blue-background">
  <footer>
    <div class="container page-footer">
      <p>OPQ is sponsored by:<br>
         Department of Information and Computer Sciences<br>
         Department of Electrical Engineering<br>
         University of Hawaii, Honolulu, HI USA</p>
      <p>Last update on: <span>06 Sep 2017</span></p>
    </div>
  </footer>
</div>
</body>
</html>
